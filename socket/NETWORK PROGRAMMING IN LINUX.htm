<html xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:w="urn:schemas-microsoft-com:office:word" xmlns="http://www.w3.org/TR/REC-html40"><head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<meta name="ProgId" content="Word.Document">
<meta name="Generator" content="Microsoft Word 11">
<meta name="Originator" content="Microsoft Word 11">
<link rel="File-List" href="file:///tmp/NETWORK%20PROGRAMMING%20IN%20LINUX_files/filelist.xml">
<link rel="Edit-Time-Data" href="file:///tmp/NETWORK%20PROGRAMMING%20IN%20LINUX_files/editdata.mso">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<title>NETWORK PROGRAMMING IN LINUX</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>raghunc</o:Author>
  <o:Template>Normal</o:Template>
  <o:LastAuthor>PRL ESWARI</o:LastAuthor>
  <o:Revision>2</o:Revision>
  <o:TotalTime>211</o:TotalTime>
  <o:LastPrinted>2010-03-20T05:34:00Z</o:LastPrinted>
  <o:Created>2012-01-13T09:19:00Z</o:Created>
  <o:LastSaved>2012-01-13T09:19:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>3005</o:Words>
  <o:Characters>17130</o:Characters>
  <o:Company>HP</o:Company>
  <o:Lines>142</o:Lines>
  <o:Paragraphs>40</o:Paragraphs>
  <o:CharactersWithSpaces>20095</o:CharactersWithSpaces>
  <o:Version>11.6568</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:Compatibility>
   <w:SelectEntireFieldWithStartOrEnd/>
   <w:UseWord2002TableStyleRules/>
  </w:Compatibility>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" LatentStyleCount="156">
 </w:LatentStyles>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:"Trebuchet MS";
	panose-1:2 11 6 3 2 2 2 2 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:647 0 0 0 159 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-language:EN-US;}
h1
	{mso-style-next:Normal;
	margin:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	line-height:150%;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:1;
	font-size:11.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:"Trebuchet MS";
	mso-font-kerning:0pt;
	mso-fareast-language:EN-US;}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	tab-stops:center 3.0in right 6.0in;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-language:EN-US;}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	tab-stops:center 3.0in right 6.0in;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-language:EN-US;}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{margin:0in;
	margin-bottom:.0001pt;
	text-align:center;
	mso-pagination:widow-orphan;
	font-size:24.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:"Trebuchet MS";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	mso-fareast-language:EN-US;}
p.MsoBodyText, li.MsoBodyText, div.MsoBodyText
	{margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:11.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:"Trebuchet MS";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	mso-fareast-language:EN-US;}
p.MsoBodyText2, li.MsoBodyText2, div.MsoBodyText2
	{margin:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	line-height:150%;
	mso-pagination:widow-orphan;
	font-size:11.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:"Trebuchet MS";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	mso-fareast-language:EN-US;}
 /* Page Definitions */
 @page
	{mso-footnote-separator:url("NETWORK%20PROGRAMMING%20IN%20LINUX_files/header.htm") fs;
	mso-footnote-continuation-separator:url("NETWORK%20PROGRAMMING%20IN%20LINUX_files/header.htm") fcs;
	mso-endnote-separator:url("NETWORK%20PROGRAMMING%20IN%20LINUX_files/header.htm") es;
	mso-endnote-continuation-separator:url("NETWORK%20PROGRAMMING%20IN%20LINUX_files/header.htm") ecs;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-header:url("NETWORK%20PROGRAMMING%20IN%20LINUX_files/header.htm") h1;
	mso-even-footer:url("NETWORK%20PROGRAMMING%20IN%20LINUX_files/header.htm") ef1;
	mso-footer:url("NETWORK%20PROGRAMMING%20IN%20LINUX_files/header.htm") f1;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ansi-language:#0400;
	mso-fareast-language:#0400;
	mso-bidi-language:#0400;}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="3074"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body style="tab-interval:.5in" lang="EN-US">

<div class="Section1">

<p class="MsoTitle" style="line-height:150%"><o:p>&nbsp;</o:p></p>

<p class="MsoTitle" style="line-height:150%"><o:p>&nbsp;</o:p></p>

<p class="MsoTitle" style="line-height:150%"><o:p>&nbsp;</o:p></p>

<p class="MsoTitle" style="line-height:150%"><o:p>&nbsp;</o:p></p>

<p class="MsoTitle" style="line-height:150%"><o:p>&nbsp;</o:p></p>

<p class="MsoTitle" style="line-height:150%"><o:p>&nbsp;</o:p></p>

<p class="MsoTitle" style="line-height:150%"><o:p>&nbsp;</o:p></p>

<p class="MsoTitle" style="line-height:150%"><b style="mso-bidi-font-weight:normal">Appendix<o:p></o:p></b></p>

<span style="font-size:24.0pt;mso-bidi-font-size:12.0pt;line-height:150%;
font-family:&quot;Trebuchet MS&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:EN-US;mso-fareast-language:
EN-US;mso-bidi-language:AR-SA"><br style="mso-special-character:line-break;
page-break-before:always" clear="all">
</span>

<p class="MsoTitle" style="line-height:150%"><o:p>&nbsp;</o:p></p>

<p class="MsoTitle" style="line-height:150%"><o:p>&nbsp;</o:p></p>

<p class="MsoTitle" style="line-height:150%"><o:p>&nbsp;</o:p></p>

<p class="MsoTitle" style="line-height:150%"><o:p>&nbsp;</o:p></p>

<p class="MsoTitle" style="line-height:150%"><o:p>&nbsp;</o:p></p>

<p class="MsoTitle" style="line-height:150%"><o:p>&nbsp;</o:p></p>

<p class="MsoTitle" style="line-height:150%"><o:p>&nbsp;</o:p></p>

<p class="MsoTitle" style="line-height:150%">NETWORK PROGRAMMING IN LINUX</p>

<p class="MsoTitle" style="line-height:150%">(Programs)</p>

<span style="font-size:11.0pt;mso-bidi-font-size:12.0pt;line-height:150%;
font-family:&quot;Trebuchet MS&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:EN-US;mso-fareast-language:
EN-US;mso-bidi-language:AR-SA"><br style="page-break-before:always" clear="all">
</span>

<p class="MsoBodyText" style="text-align:justify;line-height:150%">/* Following
program demonstrates simple <b>echo application</b>. Client sends a character
to server, it will echo it back to client. It is making use of TCP sockets.*/</p>

<p class="MsoNormal" style="text-align:justify;line-height:150%"><span style="font-size:11.0pt;mso-bidi-font-size:12.0pt;line-height:150%;font-family:
&quot;Trebuchet MS&quot;"><o:p>&nbsp;</o:p></span></p>

<h1>Client Program</h1>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;stdio.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;unistd.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;sys/types.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;sys/socket.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;netinet/in.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:
10.0pt;line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
mso-ansi-language:FR" lang="FR">int main()<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:
10.0pt;line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
mso-ansi-language:FR" lang="FR">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:
10.0pt;line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
mso-ansi-language:FR" lang="FR">int cd;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:
10.0pt;line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
mso-ansi-language:FR" lang="FR">char c=’A’;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
sockaddr_in server_address;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
servadd_len;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">cd=socket(AF_INET,SOCK_STREAM,0);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">server_address.sin_family=AF_INET;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">server_address.sin_addr.s_addr=inet_addr("127.0.0.1");<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">server_address.sin_port=5678;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">servadd_len=sizeof(server_address);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">connect(cd,(struct
sockaddr*)&amp;server_address,servadd_len);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">write(cd,&amp;c,1);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">read(cd,&amp;c,1);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">write(1,&amp;c,3);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">close(cd);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="text-align:justify;line-height:150%"><span style="font-size:11.0pt;mso-bidi-font-size:12.0pt;line-height:150%;font-family:
&quot;Trebuchet MS&quot;"><o:p>&nbsp;</o:p></span></p>

<h1>Server Program</h1>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;stdio.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;unistd.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;sys/types.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;sys/socket.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;netinet/in.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;signal.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
sd;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">void
sigint_handler(int i)<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">close(sd);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">printf("Closed
listening socket sd\n");<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:
10.0pt;line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
mso-ansi-language:SV" lang="SV">signal(SIGINT,SIG_DFL);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:
10.0pt;line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
mso-ansi-language:SV" lang="SV">kill(getpid(),SIGINT);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
main()<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
sessfd;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">char
c;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
sockaddr_in server_address,client_address;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
servadd_len,cliadd_len;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">sd=socket(AF_INET,SOCK_STREAM,0);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">signal(SIGINT,sigint_handler);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">server_address.sin_family=AF_INET;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">server_address.sin_addr.s_addr=inet_addr("127.0.0.1");<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">server_address.sin_port=5678;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">servadd_len=sizeof(server_address);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">cliadd_len=sizeof(client_address);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">bind(sd,(struct
sockaddr *)&amp;server_address,servadd_len);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">listen(sd,10);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">while(1)<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">printf("Server
Ready to accept requests.....\n");<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">sessfd=accept(sd,(struct
sockaddr*)&amp;client_address,&amp;cliadd_len);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">read(sessfd,&amp;c,1);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">write(sessfd,&amp;c,1);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">close(sessfd);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">return(0);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<h1>Concurrent Server Program</h1>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;stdio.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;unistd.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;sys/types.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;sys/socket.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;netinet/in.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;signal.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;stdlib.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
sd;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">void
sigint_handler(int i)<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">close(sd);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">printf("Closed
listening socket sd\n");<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:
10.0pt;line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
mso-ansi-language:SV" lang="SV">signal(SIGINT,SIG_DFL);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:
10.0pt;line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
mso-ansi-language:SV" lang="SV">kill(getpid(),SIGINT);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
main()<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
sessfd;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">char
c;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
sockaddr_in server_address,client_address;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
servadd_len,cliadd_len;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
rpid;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">sd=socket(AF_INET,SOCK_STREAM,0);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">signal(SIGINT,sigint_handler);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">server_address.sin_family=AF_INET;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">server_address.sin_addr.s_addr=inet_addr("127.0.0.1");<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">server_address.sin_port=5678;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">servadd_len=sizeof(server_address);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">cliadd_len=sizeof(client_address);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">bind(sd,(struct
sockaddr *)&amp;server_address,servadd_len);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">listen(sd,10);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">while(1)<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">printf("Server
Ready to accept requests.....\n");<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">sessfd=accept(sd,(struct
sockaddr*)&amp;client_address,&amp;cliadd_len);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">rpid=fork();<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">if(rpid
&gt; 0)<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">close(sessfd);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">continue;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">else
if(rpid == 0)<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">read(sessfd,&amp;c,1);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">write(sessfd,&amp;c,1);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">close(sessfd);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">exit(0);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}//if-else<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}
//while<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">return(0);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<span style="font-size:11.0pt;mso-bidi-font-size:12.0pt;line-height:150%;
font-family:&quot;Trebuchet MS&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:EN-US;mso-fareast-language:
EN-US;mso-bidi-language:AR-SA"><br style="page-break-before:always" clear="all">
</span>

<p class="MsoNormal" style="text-align:justify;line-height:150%"><span style="font-size:11.0pt;mso-bidi-font-size:12.0pt;line-height:150%;font-family:
&quot;Trebuchet MS&quot;">/* Following program demonstrates arithmetic server using TCP
sockets. Server provides various arithmetic operations, client send the details
of operands as well as operation to server after establishing the connection,
server performs the operation in case if it supports the specified operation
and sends the result back to client*/<o:p></o:p></span></p>

<p class="MsoNormal" style="text-align:justify;line-height:150%"><span style="font-size:11.0pt;mso-bidi-font-size:12.0pt;line-height:150%;font-family:
&quot;Trebuchet MS&quot;"><o:p>&nbsp;</o:p></span></p>

<h1>Client Program</h1>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;stdio.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;unistd.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;sys/types.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;sys/socket.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;netinet/in.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
request {<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">char
op;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">float
oper1,oper2;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">};<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
response {<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
status;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">float
resval;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">};<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
main()<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
cd;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
request req;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
response res;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
sockaddr_in server_address;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
servadd_len;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">cd=socket(AF_INET,SOCK_STREAM,0);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">server_address.sin_family=AF_INET;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">server_address.sin_addr.s_addr=inet_addr("127.0.0.1");<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">server_address.sin_port=5678;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">servadd_len=sizeof(server_address);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">connect(cd,(struct
sockaddr*)&amp;server_address,servadd_len);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">printf("Please
provide operation and operands:");<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">scanf("%c%f%f",&amp;req.op,&amp;req.oper1,&amp;req.oper2);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">write(cd,&amp;req,sizeof(req));<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">read(cd,&amp;res,sizeof(res));<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">printf("status<span style="mso-spacerun:yes">&nbsp; </span>%d<span style="mso-spacerun:yes">&nbsp;
</span>resval is %f\n",res.status,res.resval);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">close(cd);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<h1>Server Program</h1>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;stdio.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;unistd.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;sys/types.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;sys/socket.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;netinet/in.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;signal.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
sd;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
request {<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">char
op;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">float
oper1,oper2;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">};<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
response {<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
status;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">float
resval;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">};<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">void
sigint_handler(int i)<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">close(sd);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">printf("Closed
listening socket sd\n");<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:
10.0pt;line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
mso-ansi-language:SV" lang="SV">signal(SIGINT,SIG_DFL);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:
10.0pt;line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
mso-ansi-language:SV" lang="SV">kill(getpid(),SIGINT);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
main()<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
sessfd;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
request req;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
response res;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
sockaddr_in server_address,client_address;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
servadd_len,cliadd_len;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">sd=socket(AF_INET,SOCK_STREAM,0);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">signal(SIGINT,sigint_handler);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">server_address.sin_family=AF_INET;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">server_address.sin_addr.s_addr=inet_addr("127.0.0.1");<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">server_address.sin_port=5678;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">servadd_len=sizeof(server_address);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">cliadd_len=sizeof(client_address);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">bind(sd,(struct
sockaddr *)&amp;server_address,servadd_len);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">listen(sd,10);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoBodyText" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="mso-bidi-font-size:10.0pt;line-height:150%;
mso-bidi-font-family:&quot;Courier New&quot;">while(1)<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">sessfd=accept(sd,(struct
sockaddr*)&amp;client_address,&amp;cliadd_len);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">read(sessfd,&amp;req,sizeof(req));<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">switch(req.op)<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">case
'+':<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>res.resval=req.oper1+req.oper2;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>res.status=1;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>break;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">case
'-':<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-spacerun:yes">&nbsp;</span><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun:yes">&nbsp;</span>res.resval=req.oper1-req.oper2;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>res.status=1;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun:yes">&nbsp;</span>break;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">case
'*':<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-spacerun:yes">&nbsp;</span><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun:yes">&nbsp;</span>res.resval=req.oper1*req.oper2;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>res.status=1;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun:yes">&nbsp;</span>break;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">case
'/':<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-spacerun:yes">&nbsp;</span><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun:yes">&nbsp;</span>res.resval=req.oper1/req.oper2;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>res.status=1;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun:yes">&nbsp;</span>break;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">default:<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>res.status=0;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>res.resval=-999;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}//switch<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">write(sessfd,&amp;res,sizeof(res));<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">close(sessfd);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}
//while<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">return(0);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="text-align:justify;line-height:150%"><span style="font-size:11.0pt;mso-bidi-font-size:12.0pt;line-height:150%;font-family:
&quot;Trebuchet MS&quot;"><span style="mso-spacerun:yes">&nbsp;</span><o:p></o:p></span></p>

<span style="font-size:11.0pt;mso-bidi-font-size:12.0pt;line-height:150%;
font-family:&quot;Trebuchet MS&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:EN-US;mso-fareast-language:
EN-US;mso-bidi-language:AR-SA"><br style="page-break-before:always" clear="all">
</span>

<p class="MsoNormal" style="text-align:justify;line-height:150%"><span style="font-size:11.0pt;mso-bidi-font-size:12.0pt;line-height:150%;font-family:
&quot;Trebuchet MS&quot;">/* Following program demonstrates the arithmetic service using
UDP sockets*/<o:p></o:p></span></p>

<p class="MsoNormal" style="text-align:justify;line-height:150%"><span style="font-size:11.0pt;mso-bidi-font-size:12.0pt;line-height:150%;font-family:
&quot;Trebuchet MS&quot;"><o:p>&nbsp;</o:p></span></p>

<h1>UDP Client Program</h1>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;stdio.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;unistd.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;sys/types.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;sys/socket.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;netinet/in.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
request {<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">char
op;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">float
oper1,oper2;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">};<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
response {<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
status;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">float
resval;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">};<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
main()<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
cd;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
request req;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
response res;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
sockaddr_in server_address;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
servadd_len;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">cd=socket(AF_INET,SOCK_DGRAM,0);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">server_address.sin_family=AF_INET;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">server_address.sin_addr.s_addr=inet_addr("127.0.0.1");<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">server_address.sin_port=5678;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">servadd_len=sizeof(server_address);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">connect(cd,(struct
sockaddr*)&amp;server_address,servadd_len);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">printf("Please
provide operation and operands:");<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">scanf("%c%f%f",&amp;req.op,&amp;req.oper1,&amp;req.oper2);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">send(cd,&amp;req,sizeof(req),0);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">recv(cd,&amp;res,sizeof(res),0);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">//write(cd,&amp;req,sizeof(req));<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">//read(cd,&amp;res,sizeof(res));<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">printf("status<span style="mso-spacerun:yes">&nbsp; </span>%d<span style="mso-spacerun:yes">&nbsp;
</span>resval is %f\n",res.status,res.resval);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">close(cd);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="text-align:justify;line-height:150%"><span style="font-size:11.0pt;mso-bidi-font-size:12.0pt;line-height:150%;font-family:
&quot;Trebuchet MS&quot;"><o:p>&nbsp;</o:p></span></p>

<h1>UDP Server Program</h1>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;stdio.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;unistd.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;sys/types.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;sys/socket.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;netinet/in.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;signal.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
sd;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
request {<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">char
op;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">float
oper1,oper2;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">};<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
response {<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
status;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">float
resval;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">};<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">void
sigint_handler(int i)<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">close(sd);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">printf("Closed
listening socket sd\n");<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:
10.0pt;line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
mso-ansi-language:SV" lang="SV">signal(SIGINT,SIG_DFL);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:
10.0pt;line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
mso-ansi-language:SV" lang="SV">kill(getpid(),SIGINT);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
main()<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
sessfd;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
request req;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
response res;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
sockaddr_in server_address,client_address;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
servadd_len,cliadd_len;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">sd=socket(AF_INET,SOCK_DGRAM,0);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">signal(SIGINT,sigint_handler);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">server_address.sin_family=AF_INET;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">server_address.sin_addr.s_addr=inet_addr("127.0.0.1");<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">server_address.sin_port=5678;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">servadd_len=sizeof(server_address);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">cliadd_len=sizeof(client_address);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">bind(sd,(struct
sockaddr *)&amp;server_address,servadd_len);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">while(1)<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">printf("Ready
to recv datagrams....\n");<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">recvfrom(sd,&amp;req,sizeof(req),0,(struct
sockaddr*)&amp;client_address,&amp;cliadd_len);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">switch(req.op)<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">case
'+':<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>res.resval=req.oper1+req.oper2;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>res.status=1;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>break;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">case
'-':<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-spacerun:yes">&nbsp;</span><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun:yes">&nbsp;</span>res.resval=req.oper1-req.oper2;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>res.status=1;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun:yes">&nbsp;</span>break;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">case
'*':<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-spacerun:yes">&nbsp;</span><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun:yes">&nbsp;</span>res.resval=req.oper1*req.oper2;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>res.status=1;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun:yes">&nbsp;</span>break;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">case
'/':<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-spacerun:yes">&nbsp;</span><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun:yes">&nbsp;</span>res.resval=req.oper1/req.oper2;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>res.status=1;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun:yes">&nbsp;</span>break;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">default:<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>res.status=0;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>res.resval=-999;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}//switch<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">sendto(sd,&amp;res,sizeof(res),0,(struct
sockaddr*)&amp;client_address,cliadd_len);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}
//while<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">return(0);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<span style="font-size:11.0pt;mso-bidi-font-size:12.0pt;line-height:150%;
font-family:&quot;Trebuchet MS&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:EN-US;mso-fareast-language:
EN-US;mso-bidi-language:AR-SA"><br style="page-break-before:always" clear="all">
</span>

<p class="MsoNormal" style="text-align:justify;line-height:150%"><span style="font-size:11.0pt;mso-bidi-font-size:12.0pt;line-height:150%;font-family:
&quot;Trebuchet MS&quot;">/*Following program demonstrates arithmetic server using Unix
sockets*/<o:p></o:p></span></p>

<p class="MsoNormal" style="text-align:justify;line-height:150%"><span style="font-size:11.0pt;mso-bidi-font-size:12.0pt;line-height:150%;font-family:
&quot;Trebuchet MS&quot;"><o:p>&nbsp;</o:p></span></p>

<h1>Unix Client Program</h1>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;stdio.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;sys/types.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;sys/socket.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;sys/un.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;unistd.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;stdlib.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
req {<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">float
a;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">float
b;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">char
op;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">};<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
resp {<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">float
res;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">};<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
main()<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
sockfd;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
len;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
sockaddr_un address;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
result;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
req rq;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
resp rs;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">sockfd=socket(AF_UNIX,SOCK_STREAM,0);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">address.sun_family=AF_UNIX;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">strcpy(address.sun_path,"arithmetic_server");<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">len=sizeof(address);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">result=connect(sockfd,(struct
sockaddr *)&amp;address,len);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">if(result
== -1)<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">perror("oops:
client");<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">exit(1);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">printf("Operation
to be carried out:");<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">scanf("%c",&amp;rq.op);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">printf("\nOperands
for operation:");<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">scanf("%f
%f",&amp;rq.a,&amp;rq.b);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">write(sockfd,&amp;rq,sizeof(rq));<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">read(sockfd,&amp;rs,sizeof(rs));<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">printf("Result
of %c operation over %f and %f is<span style="mso-spacerun:yes">&nbsp;
</span>%f\n",rq.op,rq.a,rq.b,rs.res);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">close(sockfd);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">exit(0);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<h1>Unix Server Program</h1>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;sys/types.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;sys/socket.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;stdio.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;sys/un.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;unistd.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;stdlib.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
req {<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">float
a;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">float
b;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">char
op;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">};<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
resp {<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">float
res;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">};<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
main()<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:
10.0pt;line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
mso-ansi-language:FR" lang="FR">int server_sockfd,client_sockfd;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:
10.0pt;line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
mso-ansi-language:FR" lang="FR">int server_len,client_len;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
sockaddr_un server_address;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
sockaddr_un client_address;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
req rq;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
resp rs;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">unlink("arithmetic_server");<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">server_sockfd=socket(AF_UNIX,SOCK_STREAM,0);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">server_address.sun_family=AF_UNIX;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">strcpy(server_address.sun_path,"arithmetic_server");<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">server_len=sizeof(server_address);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">bind(server_sockfd,(struct
sockaddr *)&amp;server_address,server_len);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">listen(server_sockfd,5);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">while(1)<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">client_len=sizeof(client_address);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">client_sockfd=accept(server_sockfd,(struct
sockaddr *)&amp;client_address,&amp;client_len);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">printf("client_sockfd
is %d\n",client_sockfd);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">read(client_sockfd,&amp;rq,sizeof(rq));<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">switch(rq.op)<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">case
'+':<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun:yes">&nbsp;</span>rs.res=rq.a+rq.b;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun:yes">&nbsp;</span>break;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">case
'-':<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>rs.res=rq.a-rq.b;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>break;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">case
'*':<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>rs.res=rq.a*rq.b;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>break;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">case
'/':<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>rs.res=rq.a/rq.b;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>break;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">default:<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>rs.res=-999;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>break;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">write(client_sockfd,&amp;rs,sizeof(rs));<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">close(client_sockfd);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">exit(0);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<span style="font-size:11.0pt;mso-bidi-font-size:12.0pt;line-height:150%;
font-family:&quot;Trebuchet MS&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:EN-US;mso-fareast-language:
EN-US;mso-bidi-language:AR-SA"><br style="page-break-before:always" clear="all">
</span>

<p class="MsoBodyText2">/* Following program demonstrates multiplexed I/O select
() usage. TCP Arithmetic server is rewritten using select () call. Same client
given earlier for TCP arithmetic client can be used to test this server
functionality*/</p>

<p class="MsoNormal" style="text-align:justify;line-height:150%"><span style="font-size:11.0pt;mso-bidi-font-size:12.0pt;line-height:150%;font-family:
&quot;Trebuchet MS&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="text-align:justify;line-height:150%"><b><span style="font-size:11.0pt;mso-bidi-font-size:12.0pt;line-height:150%;font-family:
&quot;Trebuchet MS&quot;">Server Program using Select ( )<o:p></o:p></span></b></p>

<p class="MsoNormal" style="text-align:justify;line-height:150%"><span style="font-size:11.0pt;mso-bidi-font-size:12.0pt;line-height:150%;font-family:
&quot;Trebuchet MS&quot;">//list.h<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
node {<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
sockfd;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
node *next;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">};<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">void
addnode(int fd,struct node **list);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">void
removenode(int fd,struct node **list);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
removefnode(struct node **list);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="text-align:justify;line-height:150%"><span style="font-size:11.0pt;mso-bidi-font-size:12.0pt;line-height:150%;font-family:
&quot;Trebuchet MS&quot;">//list.c<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;stdio.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;stdlib.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
"list.h"<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">void
addnode(int fd,struct node **list)<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
node *temp=NULL,*temp1=NULL;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">temp=(struct
node *)malloc(sizeof(struct node));<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">temp-&gt;sockfd=fd;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">temp-&gt;next=NULL;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">if(*list
== NULL)<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">*list=temp;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">else<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">temp1=*list;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">while(temp1-&gt;next
!= NULL)<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">temp1=temp1-&gt;next;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">temp1-&gt;next=temp;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">return;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
removefnode(struct node **list)<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:
10.0pt;line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
mso-ansi-language:NL-BE" lang="NL-BE">int sfd;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:
10.0pt;line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
mso-ansi-language:NL-BE" lang="NL-BE">struct node *temp;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">if(*list
== NULL)<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">return(-1);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">else<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">sfd=(*list)-&gt;sockfd;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">*list=(*list)-&gt;next;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">return(sfd);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">void
removenode(int fd,struct node**list)<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:
10.0pt;line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
mso-ansi-language:FR" lang="FR">struct node *temp,*t;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:
10.0pt;line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
mso-ansi-language:FR" lang="FR">temp=*list;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">if(temp
!= NULL)<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">if(temp-&gt;sockfd
== fd)<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">*list=temp-&gt;next;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">free(temp);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">else<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">while((temp-&gt;next
!= NULL) &amp;&amp; (temp-&gt;next-&gt;sockfd !=fd))<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">temp=temp-&gt;next;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">if(temp-&gt;next
!=NULL)<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">t=temp-&gt;next;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">temp-&gt;next=temp-&gt;next-&gt;next;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">free(t);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">else<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">printf("Element
is not found\n");<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">else<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">printf("List
is empty\n");<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">return;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<h1>Server Code</h1>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;stdio.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;sys/types.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;sys/socket.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;netinet/in.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;arpa/inet.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;unistd.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;stdlib.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;pthread.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;semaphore.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;sys/ioctl.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
"list.h"<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
node *slist=NULL;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
node *jlist=NULL;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">sem_t
init,treq,tpro;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">fd_set
master ;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
gsockfd;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
req {<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">float
a;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">float
b;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">char
op;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">};<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
resp {<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">float
res;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">};<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">void*
thread_session(void *arg)<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
tnum,ret;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
tsockfd;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
req rq;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
resp rs;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
msg_len;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">tnum=*((int
*)arg);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">printf("thread
id is %d\n",tnum);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">sem_post(&amp;init);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">while(1)<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">sem_wait(&amp;treq);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">tsockfd=removefnode(&amp;jlist);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">printf("sess
sockfd %d is identifed for handlling read request by thread
%d\n",tsockfd,tnum);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">sem_post(&amp;tpro);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">msg_len
= 0 ;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">if(ioctl(tsockfd,
FIONREAD, &amp;msg_len) &gt;= 0)<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">if(msg_len
== 0)<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">close(tsockfd);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">FD_CLR(tsockfd,
&amp;master);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">printf("Close
request over sess sockfd<span style="mso-spacerun:yes">&nbsp;
</span>%d\n",tsockfd);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">removenode(tsockfd,&amp;slist);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">continue;
<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">else<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">read(tsockfd,&amp;rq,sizeof(rq));<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">switch(rq.op)<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">case
'+':<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>rs.res=rq.a+rq.b;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>break;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">case
'-':<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>rs.res=rq.a-rq.b;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>break;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">case
'*':<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>rs.res=rq.a*rq.b;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>break;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">case
'/':<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>rs.res=rq.a/rq.b;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>break;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">default:<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>rs.res=-999;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">printf("write
to sockfd %d res %f\n",tsockfd,rs.res);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">write(tsockfd,&amp;rs,sizeof(rs));<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">pthread_exit("SUCCESSFUL");<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
main()<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
server_sockfd, client_sockfd;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
server_len,client_len,i,res;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
sockaddr_in server_address;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
sockaddr_in client_address;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
req rq;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
resp rs;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
node *temp=NULL;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">pthread_t
p[2];<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">fd_set
readset ;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
timeval select_timeout ;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">sem_init(&amp;init,0,0);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:
10.0pt;line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
mso-ansi-language:PT-BR" lang="PT-BR">sem_init(&amp;treq,0,0);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:
10.0pt;line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
mso-ansi-language:PT-BR" lang="PT-BR">sem_init(&amp;tpro,0,0);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:
10.0pt;line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
mso-ansi-language:PT-BR" lang="PT-BR"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">for(i=0;i&lt;2;i++)<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">pthread_create(&amp;p[i],NULL,thread_session,&amp;i);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">sem_wait(&amp;init);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">server_sockfd=socket(AF_INET,SOCK_STREAM,0);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">server_address.sin_family=AF_INET;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">server_address.sin_addr.s_addr=inet_addr("127.0.0.1");<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">server_address.sin_port=5678;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">server_len=sizeof(server_address);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">client_len=sizeof(client_address);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">bind(server_sockfd,(struct
sockaddr *)&amp;server_address,server_len);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">listen(server_sockfd,5);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">FD_ZERO(&amp;readset);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">FD_SET(server_sockfd,&amp;master);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">printf("Listening
sockfd %d is created\n",server_sockfd);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">addnode(server_sockfd,&amp;slist);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">while(1)<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">readset=master;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>select_timeout.tv_sec<span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>= 10 ;//SELECT_TIMEOUT ;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>select_timeout.tv_usec<span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>= 0 ;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>res = select(256,&amp;readset, NULL,
NULL, &amp;select_timeout) ;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if((res == -1) || (res == 0) || (res
&lt; 0))<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </span>printf ("Error
in the select ...: %d\n", res) ;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">//<span style="mso-tab-count:3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </span>perror("Error /
no readable socket in select\n") ;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </span>sleep(1) ;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </span>continue ;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>} // if<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-spacerun:yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>for(temp=slist;temp!=NULL;temp=temp-&gt;next)<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if(FD_ISSET(temp-&gt;sockfd,&amp;readset)
&gt; 0)<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if(temp-&gt;sockfd==server_sockfd)<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">client_sockfd=accept(server_sockfd,(struct
sockaddr *)&amp;client_address,&amp;client_len);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>printf("connection accepted
through listen sockfd %d and returned sesfd is %d\n",server_sockfd,client_sockfd);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>addnode(client_sockfd,&amp;slist);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>FD_SET(client_sockfd,&amp;master);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>else<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>printf("read request has come to
session sockfd %d\n",temp-&gt;sockfd);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>addnode(temp-&gt;sockfd,&amp;jlist);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-spacerun:yes">&nbsp; </span><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>sem_post(&amp;treq);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>sem_wait(&amp;tpro);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">close(server_sockfd);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">exit(0);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<span style="font-size:11.0pt;mso-bidi-font-size:12.0pt;line-height:150%;
font-family:&quot;Trebuchet MS&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:EN-US;mso-fareast-language:
EN-US;mso-bidi-language:AR-SA"><br style="page-break-before:always" clear="all">
</span>

<p class="MsoNormal" style="text-align:justify;line-height:150%"><span style="font-size:11.0pt;mso-bidi-font-size:12.0pt;line-height:150%;font-family:
&quot;Trebuchet MS&quot;">/* This program demonstrates that data sent through two
separate send ( ) functions can be collected through a single recv ( ) in TCP
sockets, provided enough buffer is given in recv ( ) function*/<o:p></o:p></span></p>

<p class="MsoNormal" style="text-align:justify;line-height:150%"><span style="font-size:11.0pt;mso-bidi-font-size:12.0pt;line-height:150%;font-family:
&quot;Trebuchet MS&quot;"><o:p>&nbsp;</o:p></span></p>

<h1>Client Program</h1>

<p class="MsoBodyText" style="text-align:justify;line-height:150%"><o:p>&nbsp;</o:p></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;stdio.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;unistd.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;sys/types.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;sys/socket.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;netinet/in.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
main()<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
cd;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
sockaddr_in server_address;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
servadd_len;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">cd=socket(AF_INET,SOCK_STREAM,0);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">server_address.sin_family=AF_INET;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">server_address.sin_addr.s_addr=inet_addr("127.0.0.1");<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">server_address.sin_port=5678;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">servadd_len=sizeof(server_address);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">connect(cd,(struct
sockaddr*)&amp;server_address,servadd_len);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">send(cd,”ABC”,3,0);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">send(cd,”DEF”,3,0);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">close(cd);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="text-align:justify;line-height:150%"><span style="font-size:11.0pt;mso-bidi-font-size:12.0pt;line-height:150%;font-family:
&quot;Trebuchet MS&quot;"><o:p>&nbsp;</o:p></span></p>

<h1>Server Program</h1>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;stdio.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;unistd.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;sys/types.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;sys/socket.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;netinet/in.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;signal.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
sd;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">void
sigint_handler(int i)<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">close(sd);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">printf("Closed
listening socket sd\n");<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:
10.0pt;line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
mso-ansi-language:SV" lang="SV">signal(SIGINT,SIG_DFL);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:
10.0pt;line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
mso-ansi-language:SV" lang="SV">kill(getpid(),SIGINT);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
main()<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
sessfd;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">char
c[6];<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
sockaddr_in server_address,client_address;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
servadd_len,cliadd_len;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">sd=socket(AF_INET,SOCK_STREAM,0);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">signal(SIGINT,sigint_handler);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">server_address.sin_family=AF_INET;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">server_address.sin_addr.s_addr=inet_addr("127.0.0.1");<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">server_address.sin_port=5678;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">servadd_len=sizeof(server_address);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">cliadd_len=sizeof(client_address);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">bind(sd,(struct
sockaddr *)&amp;server_address,servadd_len);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">listen(sd,10);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">while(1)<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">printf("Server
Ready to accept requests.....\n");<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">sessfd=accept(sd,(struct
sockaddr*)&amp;client_address,&amp;cliadd_len);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">recv(sessfd,c,6,0);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">write(1,c,6);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">close(sessfd);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">return(0);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<span style="font-size:11.0pt;mso-bidi-font-size:12.0pt;line-height:150%;
font-family:&quot;Trebuchet MS&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:EN-US;mso-fareast-language:
EN-US;mso-bidi-language:AR-SA"><br style="page-break-before:always" clear="all">
</span>

<p class="MsoNormal" style="text-align:justify;line-height:150%"><span style="font-size:11.0pt;mso-bidi-font-size:12.0pt;line-height:150%;font-family:
&quot;Trebuchet MS&quot;">/* Following program demonstrates that data sent through two
separate sendto functions using UDP sockets has to be collected through two separate
recvfrom ( ) functions, as each sendto will create one datagram and only one
datagram will be read using recvfrom ( ) function*/<o:p></o:p></span></p>

<p class="MsoNormal" style="text-align:justify;line-height:150%"><span style="font-size:11.0pt;mso-bidi-font-size:12.0pt;line-height:150%;font-family:
&quot;Trebuchet MS&quot;"><o:p>&nbsp;</o:p></span></p>

<h1>UDP Datagram Sender</h1>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;sys/socket.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;netinet/in.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;netdb.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;stdio.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;unistd.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;stdlib.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
main()<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
sockfd;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
len,result;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
sockaddr_in address;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">sockfd=socket(AF_INET,SOCK_DGRAM,0);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">address.sin_family=AF_INET;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">address.sin_port=2345;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">address.sin_addr.s_addr=inet_addr("127.0.0.1");<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">len=sizeof(address);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">sendto(sockfd,”ABC”,3,0,(struct
sockaddr *)&amp;address,len);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">sendto(sockfd,”DEF”,3,0,(struct
sockaddr *)&amp;address,&amp;len);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">close(sockfd);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">exit(0);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="text-align:justify;line-height:150%"><span style="font-size:11.0pt;mso-bidi-font-size:12.0pt;line-height:150%;font-family:
&quot;Trebuchet MS&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="text-align:justify;line-height:150%;tab-stops:70.5pt"><span style="font-size:11.0pt;mso-bidi-font-size:12.0pt;line-height:150%;font-family:
&quot;Trebuchet MS&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class="MsoNormal" style="text-align:justify;line-height:150%;tab-stops:70.5pt"><span style="font-size:11.0pt;mso-bidi-font-size:12.0pt;line-height:150%;font-family:
&quot;Trebuchet MS&quot;"><o:p>&nbsp;</o:p></span></p>

<h1>UDP Datagram Receiver</h1>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;sys/socket.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;netinet/in.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;stdio.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;unistd.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;stdlib.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
main()<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
sockfd;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
len,result;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">struct
sockaddr_in address;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:
10.0pt;line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
mso-ansi-language:SV" lang="SV">char c[6];<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:
10.0pt;line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
mso-ansi-language:SV" lang="SV"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:
10.0pt;line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
mso-ansi-language:SV" lang="SV">sockfd=socket(AF_INET,SOCK_DGRAM,0);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:
10.0pt;line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
mso-ansi-language:SV" lang="SV"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">address.sin_family=AF_INET;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">address.sin_port=2345;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">address.sin_addr.s_addr=inet_addr("127.0.0.1");<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">len=sizeof(address);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">bind(sockfd,(struct
sockaddr *)&amp;address,len);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">listen(sockfd,5);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">while(1)<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">result=recvfrom(sockfd,c,6,0,(struct
sockaddr *)&amp;address,&amp;len);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">write(1,c,result);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">result=recvfrom(sockfd,c,6,0,(
struct sockaddr *)&amp;address,&amp;len);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">write(1,c,result);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">close(sockfd);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">exit(0);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="mso-layout-grid-align:none;text-autospace:none"><span style="font-size:10.0pt;font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<span style="font-size:11.0pt;mso-bidi-font-size:12.0pt;line-height:150%;
font-family:&quot;Trebuchet MS&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:EN-US;mso-fareast-language:
EN-US;mso-bidi-language:AR-SA"><br style="page-break-before:always" clear="all">
</span>

<p class="MsoNormal" style="text-align:justify;line-height:150%"><span style="font-size:11.0pt;mso-bidi-font-size:12.0pt;line-height:150%;font-family:
&quot;Trebuchet MS&quot;">/*Following demonstrates a program using multicasting. Sender
will stream a string, When receiver comes up, if they belong to same multicast
group, they can read the stream and displays it*/<o:p></o:p></span></p>

<p class="MsoNormal" style="text-align:justify;line-height:150%"><span style="font-size:11.0pt;mso-bidi-font-size:12.0pt;line-height:150%;font-family:
&quot;Trebuchet MS&quot;"><o:p>&nbsp;</o:p></span></p>

<h1>Multicast Sender</h1>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;sys/types.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;sys/socket.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;netinet/in.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;arpa/inet.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;time.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;string.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;stdio.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;stdlib.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;unistd.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
main(int argc,char *argv[])<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>struct sockaddr_in addr;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int fd,cnt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>struct ip_mreq mreq;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>char message[]="Hello
World";<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size:
11.0pt;mso-bidi-font-size:10.0pt;line-height:150%;font-family:&quot;Trebuchet MS&quot;;
mso-bidi-font-family:&quot;Courier New&quot;;mso-ansi-language:SV" lang="SV">if((fd=socket(AF_INET,SOCK_DGRAM,0))
&lt; 0) {<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:
10.0pt;line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
mso-ansi-language:SV" lang="SV"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>perror("socket");<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:
10.0pt;line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
mso-ansi-language:SV" lang="SV"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>exit(1);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:
10.0pt;line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
mso-ansi-language:SV" lang="SV"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;line-height:150%;font-family:
&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>addr.sin_family=AF_INET;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>addr.sin_addr.s_addr=inet_addr("225.0.0.37");<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>addr.sin_port=4567;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>while(1)<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if(sendto(fd,message,sizeof(message),0,(struct
sockaddr *)&amp;addr,sizeof(addr)) &lt; 0) {<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>perror("sendto");<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>exit(1);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>sleep(1);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">return(0);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="text-align:justify;line-height:150%"><span style="font-size:11.0pt;mso-bidi-font-size:12.0pt;line-height:150%;font-family:
&quot;Trebuchet MS&quot;"><o:p>&nbsp;</o:p></span></p>

<h1>Multicast Receiver</h1>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;sys/types.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;sys/socket.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;netinet/in.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;arpa/inet.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;time.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;string.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;stdio.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;unistd.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;stdlib.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">int
main(int argc,char *argv[])<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>struct sockaddr_in addr;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int fd,nbytes,addrlen;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>struct ip_mreq mreq;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>char msgbuf[256];<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>u_int yes=1;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if((fd=socket(AF_INET,SOCK_DGRAM,0))
&lt; 0) {<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>perror("socket");<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>exit(1);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if(setsockopt(fd,SOL_SOCKET,SO_REUSEADDR,&amp;yes,sizeof(yes))
&lt;0 ){<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>perror("Reusing ADDR
failed\n");<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>exit(1);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>memset(&amp;addr,0,sizeof(addr));<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>addr.sin_family=AF_INET;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>addr.sin_addr.s_addr=htonl(INADDR_ANY);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>addr.sin_port=4567;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if(bind(fd,(struct sockaddr
*)&amp;addr,sizeof(addr))&lt;0) {<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>perror("bind\n");<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>exit(1);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>mreq.imr_multiaddr.s_addr=inet_addr("225.0.0.37");<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>mreq.imr_interface.s_addr=htonl(INADDR_ANY);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if(setsockopt(fd,IPPROTO_IP,IP_ADD_MEMBERSHIP,&amp;mreq,sizeof(mreq))
&lt; 0) {<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>perror("setsockopt");<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>exit(1);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>while(1)<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>addrlen=sizeof(addr);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if((nbytes=recvfrom(fd,msgbuf,256,0,(struct
sockaddr *) &amp;addr,&amp;addrlen)) &lt; 0){<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>perror("recvfrom");<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>exit(1);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>puts(msgbuf);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><span style="mso-tab-count:1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">return(0);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}</span><span style="font-size:11.0pt;mso-bidi-font-size:12.0pt;line-height:150%;font-family:
&quot;Trebuchet MS&quot;"><br style="page-break-before:always" clear="all">
/*Following program demonstrates the usage of raw sockets to sniff TCP packets
from it*/<o:p></o:p></span></p>

<h1>TCP Packet Sniffer built using RAW sockets</h1>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;stdio.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;sys/types.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;sys/socket.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;netinet/in.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;netinet/in_systm.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;netinet/ip.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;netinet/ip_icmp.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;string.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">#include
&lt;arpa/inet.h&gt;<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoBodyText" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="mso-bidi-font-size:10.0pt;line-height:150%;
mso-bidi-font-family:&quot;Courier New&quot;">int<span style="mso-spacerun:yes">&nbsp;
</span>main()<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:
10.0pt;line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
mso-ansi-language:SV" lang="SV">char buffer[8192];<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:
10.0pt;line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
mso-ansi-language:SV" lang="SV">int fd,i; <o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:
10.0pt;line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
mso-ansi-language:SV" lang="SV">fd = socket (PF_INET, SOCK_RAW, IPPROTO_TCP);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">while
(read (fd, buffer, 8192) &gt; 0)<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">{<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:
10.0pt;line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
mso-ansi-language:NO-BOK" lang="NO-BOK">for(i=0;i&lt;8192;i++)<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:
10.0pt;line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;;
mso-ansi-language:NO-BOK" lang="NO-BOK">printf ("%c ",buffer[i]);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">return(0);<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;">}<o:p></o:p></span></p>

<p class="MsoNormal" style="line-height:150%;mso-layout-grid-align:none;
text-autospace:none"><span style="font-size:11.0pt;mso-bidi-font-size:10.0pt;
line-height:150%;font-family:&quot;Trebuchet MS&quot;;mso-bidi-font-family:&quot;Courier New&quot;"><o:p>&nbsp;</o:p></span></p>

<p class="MsoNormal" style="text-align:justify;line-height:150%"><span style="font-size:11.0pt;mso-bidi-font-size:12.0pt;line-height:150%;font-family:
&quot;Trebuchet MS&quot;">/* By using these raw sockets ICMP echo request can be sent and
reply can be collected through the same raw sockets and Ping application can be
implemented*/<o:p></o:p></span></p>

</div>




</body></html>